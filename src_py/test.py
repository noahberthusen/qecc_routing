from Grid import Grid
import pandas as pd
import ast

import random
import numpy as np

M = 10
k = 5
grid = Grid(M, k+1)

all_points = [(x,y) for x in range(M) for y in range(M)]

def randomly_draw_generators(beta, gamma):
    def in_circle(point, circle):
        x, y = point
        cx, cy, r = circle
        return np.sqrt((x - cx)**2 + (y - cy)**2) <= r

    gens = []
    
    N = int(M**(2*beta))
    L = M**gamma
    while (len(gens) < N):
        cx, cy = random.choice(all_points)

        in_points = [point for point in all_points if in_circle(point, (cx, cy, L))]

        if (len(in_points) > k):
            points = random.sample(in_points, k)
            gens.append(points)

    return gens

# for i in range(100):
#     gens = randomly_draw_generators(1, 1)
#     print(grid.greedy_route_set(gens))
# # print(grid.divided_greedy_route_set(gens, 200))
# print(grid.greedy_route_set(gens))


# gens = [[(2,1),(2,3),(3,2)], [(2,1),(3,1),(3,3)]]
gens = [[(5,6),(5,7),(5,8),(6,8),(7,8)],
# [(1,0),(2,0),(2,1),(3,0),(3,1)],
# [(7,6),(7,7),(8,5),(8,7),(9,5)],
# [(3,3),(4,1),(4,2),(5,1),(5,2)],
# [(0,6),(0,7),(0,8),(1,6),(1,8)],
# [(1,6),(1,8),(2,6),(2,8),(3,6)],
# [(3,4),(3,6),(4,4),(4,5),(5,5)],
# [(0,4),(1,3),(2,3),(2,4),(2,5)],
# [(8,3),(8,4),(9,3),(9,4),(9,5)],
# [(0,4),(1,3),(1,5),(2,3),(2,4)],
# [(2,4),(2,5),(3,4),(3,5),(3,6)],
# [(7,0),(8,0),(8,1),(9,0),(9,1)],
# [(5,5),(6,4),(6,5),(7,4),(7,5)],
# [(0,3),(0,5),(1,4),(1,5),(2,4)],
# [(4,1),(4,2),(4,3),(5,3),(6,1)],
# [(5,4),(6,3),(7,3),(7,4),(7,5)],
# [(6,8),(7,8),(7,9),(8,8),(8,9)],
# [(0,3),(0,4),(1,3),(1,4),(2,4)],
# [(2,4),(3,3),(3,4),(3,5),(4,4)],
# [(1,1),(1,2),(2,0),(2,1),(3,1)],
# [(1,3),(2,4),(2,5),(3,4),(3,5)],
# [(0,0),(0,1),(0,2),(1,0),(1,1)],
# [(1,6),(2,6),(3,5),(3,6),(3,7)],
# [(6,8),(6,9),(7,8),(7,9),(8,8)],
# [(7,1),(7,3),(8,2),(9,1),(9,3)],
# [(0,0),(0,2),(1,0),(1,1),(2,2)],
# [(0,2),(0,4),(1,3),(2,2),(2,3)],
# [(6,3),(7,3),(7,5),(8,3),(8,5)],
# [(5,6),(6,4),(6,5),(7,4),(7,5)],
# [(0,2),(0,3),(1,3),(1,4),(2,4)],
# [(0,4),(1,2),(1,3),(1,4),(2,3)],
# [(2,1),(2,3),(3,1),(3,2),(4,3)],
# [(7,4),(7,5),(7,6),(8,6),(9,4)],
# [(1,5),(1,6),(2,7),(3,5),(3,6)],
# [(3,4),(3,5),(3,6),(4,6),(5,6)],
# [(1,6),(2,7),(2,8),(3,6),(3,7)],
# [(1,3),(2,2),(2,4),(3,3),(3,4)],
# [(4,8),(4,9),(5,8),(5,9),(6,8)],
# [(6,3),(7,3),(7,4),(8,2),(8,3)],
# [(2,6),(3,6),(3,7),(3,8),(4,7)],
# [(3,6),(3,7),(4,6),(5,6),(5,7)],
# [(0,4),(0,5),(1,4),(1,5),(1,6)],
# [(4,3),(5,4),(5,5),(6,4),(6,5)],
# [(5,1),(5,2),(6,2),(7,0),(7,1)],
# [(4,6),(4,7),(4,8),(5,8),(6,8)],
# [(6,0),(6,1),(7,0),(7,1),(8,1)],
# [(8,1),(8,2),(9,1),(9,2),(9,3)],
# [(1,2),(1,3),(2,4),(3,2),(3,4)],
# [(0,3),(0,4),(0,5),(1,3),(1,4)],
# [(5,5),(5,7),(6,7),(7,5),(7,6)],
# [(3,8),(3,9),(5,7),(5,8),(5,9)],
# [(0,5),(0,6),(1,4),(1,5),(1,6)],
# [(3,3),(3,4),(4,4),(4,5),(5,5)],
# [(6,8),(6,9),(7,9),(8,8),(8,9)],
# [(3,0),(3,1),(4,0),(5,0),(5,1)],
# [(0,6),(0,7),(0,8),(1,6),(1,8)],
# [(8,2),(8,3),(8,4),(9,2),(9,4)],
# [(5,5),(5,7),(6,6),(6,7),(7,5)],
# [(6,1),(6,2),(6,3),(7,1),(8,3)],
# [(4,9),(5,8),(5,9),(6,8),(6,9)],
# [(6,8),(6,9),(7,8),(7,9),(8,8)],
# [(4,7),(5,5),(5,6),(5,7),(6,5)],
# [(8,5),(8,6),(9,4),(9,5),(9,6)],
# [(2,0),(2,1),(3,1),(4,0),(4,1)],
# [(7,2),(7,4),(8,4),(9,2),(9,3)],
# [(3,0),(3,1),(4,0),(4,1),(5,1)],
# [(4,7),(4,8),(5,7),(5,9),(6,7)],
# [(0,5),(0,7),(1,5),(1,6),(1,7)],
# [(4,2),(5,1),(5,2),(6,1),(6,2)],
# [(7,2),(8,2),(8,3),(8,4),(9,3)],
# [(3,4),(3,5),(4,5),(5,3),(5,4)],
# [(8,7),(8,8),(8,9),(9,7),(9,8)],
# [(7,8),(7,9),(8,7),(9,8),(9,9)],
# [(8,7),(8,8),(8,9),(9,7),(9,9)],
# [(0,0),(0,2),(1,2),(2,1),(2,2)],
# [(8,7),(8,8),(8,9),(9,8),(9,9)],
# [(1,0),(2,0),(2,1),(3,0),(3,1)],
# [(4,7),(5,6),(6,5),(6,6),(6,7)],
# [(1,1),(2,0),(2,2),(3,1),(3,2)],
# [(1,3),(2,3),(2,4),(2,5),(3,5)],
# [(7,3),(7,4),(7,5),(8,4),(8,5)],
# [(1,0),(1,2),(2,0),(2,1),(3,1)],
# [(7,1),(7,2),(7,3),(8,3),(9,3)],
# [(0,8),(1,7),(1,9),(2,8),(2,9)],
[(0,0),(0,1),(1,0),(1,1),(1,2)],
[(6,3),(6,4),(7,3),(7,5),(8,3)],
[(1,4),(1,6),(2,4),(3,5),(3,6)],
[(3,7),(4,6),(4,7),(5,6),(5,7)],
[(3,0),(3,1),(4,0),(4,1),(5,1)],
[(3,8),(3,9),(4,8),(4,9),(5,8)],
[(0,3),(0,4),(0,5),(1,3),(1,5)],
[(6,2),(7,1),(8,0),(8,1),(8,2)],
[(0,4),(0,5),(0,6),(1,4),(1,6)],
[(0,1),(0,2),(0,3),(1,2),(1,3)],
[(3,0),(3,1),(4,0),(5,0),(5,1)],
[(8,1),(8,2),(8,3),(9,1),(9,3)],
[(0,1),(0,2),(1,2),(2,1),(2,3)],
[(3,8),(4,6),(4,7),(5,6),(5,8)],
[(4,3),(4,5),(5,3),(5,4),(5,5)],
[(8,4),(8,5),(8,6),(9,4),(9,6)]]
# print(grid.route_generator(gen))
print(grid.greedy_route_set(gens))